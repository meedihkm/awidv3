fix: Correction critique isolation donn√©es organisations + CASCADE DELETE

üî¥ BUG CRITIQUE CORRIG√â: Les donn√©es n'√©taient pas isol√©es entre organisations

PROBL√àME:
- Apr√®s suppression d'une organisation, ses donn√©es restaient visibles dans les nouvelles organisations
- Les contraintes CASCADE DELETE n'√©taient pas configur√©es correctement
- Un utilisateur pouvait commander des produits d'une autre organisation
- Risque majeur de fuite de donn√©es entre organisations (RGPD)

CORRECTIONS:
1. sql_migrations_v2_optimized.sql
   - Ajout section 7: Contraintes CASCADE pour TOUTES les tables
   - Correction audit_logs.organization_id (NOT NULL + CASCADE)
   - Correction order_sequences.organization_id (CASCADE)
   - 9 contraintes CASCADE ajout√©es/corrig√©es

2. api-v2/routes/orders.routes.js
   - S√âCURIT√â: Ajout v√©rification organization_id sur produits
   - Emp√™che commande de produits d'autres organisations
   - 3 requ√™tes corrig√©es (POST, PUT, calculs de total)

3. api-v2/routes/superAdmin.routes.js
   - Simplification route DELETE /organizations/:id
   - Suppression du code manuel (50+ lignes)
   - Utilisation CASCADE automatique (5 lignes)
   - Plus fiable et maintenable

4. Nouveaux fichiers:
   - fix_organization_isolation.sql: Script de correction pour base existante
   - BUG_FIX_ORGANIZATION_ISOLATION.md: Documentation compl√®te du bug et de la correction
   - COMMIT_MESSAGE_BUG_FIX.txt: Ce fichier

TABLES CORRIG√âES:
‚úÖ users -> organizations (CASCADE DELETE)
‚úÖ products -> organizations (CASCADE DELETE)
‚úÖ orders -> organizations (CASCADE DELETE)
‚úÖ deliveries -> organizations (CASCADE DELETE)
‚úÖ audit_logs -> organizations (CASCADE DELETE)
‚úÖ order_sequences -> organizations (CASCADE DELETE)
‚úÖ order_items -> orders (CASCADE DELETE)
‚úÖ refresh_tokens -> users (CASCADE DELETE)
‚úÖ location_history -> users (CASCADE DELETE)

S√âCURIT√â:
- Isolation totale des donn√©es par organization_id
- V√©rification organization_id sur TOUS les produits command√©s
- Suppression CASCADE automatique garantie par la base
- Aucune donn√©e orpheline possible
- Int√©grit√© r√©f√©rentielle compl√®te

D√âPLOIEMENT REQUIS:
1. Ex√©cuter fix_organization_isolation.sql sur Supabase
2. D√©ployer le code backend sur Vercel
3. Tester la suppression d'une organisation de test
4. V√©rifier l'isolation des donn√©es

IMPACT:
- Critique: Toutes les organisations
- Risque: Fuite de donn√©es (RGPD)
- Priorit√©: IMM√âDIATE

Fixes #CRITICAL-BUG-001
