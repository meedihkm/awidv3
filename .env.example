# ===== CONFIGURATION PRODUCTION AWID API v2 =====
# IMPORTANT: Générer des secrets forts pour la production!

# ============================================
# BASE DE DONNÉES
# ============================================

# URL de connexion PostgreSQL
DATABASE_URL="postgresql://username:password@host:5432/database"

# Configuration SSL (production)
# Chemin vers le certificat CA (optionnel - pour Neon/Supabase avec CA personnalisé)
DATABASE_SSL_CA="/path/to/ca-certificate.crt"

# Désactiver la validation SSL (NON RECOMMANDÉ - vulnérable MITM)
# Mettre à "false" uniquement si le fournisseur DB utilise des certificats auto-signés
DATABASE_SSL_REJECT_UNAUTHORIZED="true"

# Taille du pool de connexions
DATABASE_POOL_MAX="20"

# ============================================
# SÉCURITÉ JWT
# ============================================

# JWT Secret (OBLIGATOIRE en production - min 32 caractères)
# Générer avec: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET="CHANGE_ME_IN_PRODUCTION_MIN_32_CHARS"

# Durée de vie des tokens (optionnel)
JWT_ACCESS_EXPIRES="15m"
JWT_REFRESH_EXPIRES="7d"

# ============================================
# SUPER ADMIN
# ============================================

# Super Admin Key (OBLIGATOIRE en production - min 32 caractères)
# Générer avec: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SUPER_ADMIN_KEY="CHANGE_ME_IN_PRODUCTION_MIN_32_CHARS"

# Nom affiché dans l'app TOTP pour le 2FA (défaut: "AWID Admin")
SUPER_ADMIN_2FA_ISSUER="AWID Admin"

# ============================================
# CORS
# ============================================

# Origines autorisées (séparées par virgule) - OBLIGATOIRE en production
# Exemple: https://votre-app.vercel.app,https://admin.votre-domaine.com
ALLOWED_ORIGINS="https://votre-app.vercel.app,https://votre-domaine.com"

# Alternative (déprécié, utilisez ALLOWED_ORIGINS)
CORS_ORIGINS="https://votre-app.vercel.app"

# ============================================
# ENVIRONNEMENT
# ============================================

# Mode d'exécution (development, production)
NODE_ENV="development"

# Port du serveur (optionnel, défaut 3000)
PORT=3000

# ============================================
# SÉCURITÉ AVANCÉE (optionnel)
# ============================================

# URL pour rapports CSP (optionnel)
CSP_REPORT_URI="https://votre-service.report-uri.com/r/d/csp/enforce"

# ============================================
# MONITORING (optionnel)
# ============================================

# Sentry DSN pour le monitoring d'erreurs
# SENTRY_DSN="https://xxx@sentry.io/xxx"
